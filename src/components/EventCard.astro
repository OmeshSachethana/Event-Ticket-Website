---
const { event } = Astro.props;
const formatDate = (dateString) => {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', { 
    weekday: 'short', 
    month: 'short', 
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  });
};
---

<div class="card group cursor-pointer">
  <!-- Event Image -->
  <div class="relative overflow-hidden h-48">
    <img 
      src={event.image} 
      alt={event.title}
      class="w-full h-full object-cover group-hover:scale-110 transition duration-500"
    />
    <div class="absolute top-4 left-4">
      <span class={`px-3 py-1 rounded-full text-sm font-semibold ${
        event.category === 'concert' ? 'bg-purple-500 text-white' :
        event.category === 'sports' ? 'bg-green-500 text-white' :
        event.category === 'conference' ? 'bg-blue-500 text-white' :
        'bg-yellow-500 text-white'
      }`}>
        {event.category.charAt(0).toUpperCase() + event.category.slice(1)}
      </span>
    </div>
    <div class="absolute top-4 right-4">
      <span class="px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-sm font-bold text-gray-800">
        ${event.price}
      </span>
    </div>
  </div>

  <!-- Event Details -->
  <div class="p-6">
    <div class="flex items-start justify-between mb-3">
      <h3 class="text-xl font-bold text-gray-800 group-hover:text-indigo-600 transition duration-300">
        {event.title}
      </h3>
    </div>
    
    <p class="text-gray-600 mb-4 line-clamp-2">
      {event.description}
    </p>
    
    <div class="space-y-3 mb-6">
      <div class="flex items-center text-gray-600">
        <i class="fas fa-calendar-alt mr-3 text-indigo-500"></i>
        <span>{formatDate(event.date)}</span>
      </div>
      <div class="flex items-center text-gray-600">
        <i class="fas fa-map-marker-alt mr-3 text-indigo-500"></i>
        <span>{event.location}</span>
      </div>
    </div>
    
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <i class="fas fa-users mr-2 text-gray-500"></i>
        <span class="text-sm text-gray-600">
          {event.availableSeats} seats available
        </span>
      </div>
      <a 
        href={`/events/${event.id}`} 
        class="btn-primary px-6 py-2 text-sm"
      >
        Book Now
      </a>
    </div>
  </div>
</div>